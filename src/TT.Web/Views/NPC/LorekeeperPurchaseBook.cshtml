@model TT.Domain.ViewModels.NPCs.LorekeeperBookListViewModel
@using TT.Domain.ViewModels
@using TT.Web.CustomHtmlHelpers
@{
    ViewBag.Title = "Purchase Book";
}

@section menu
{
    <li><a href="@Url.Action(MVC.PvP.Play())">Back to game</a></li>
    <li><a href="@Url.Action(MVC.NPC.TalkToLorekeeper())">Talk</a></li>
}

<div class="containerInner">
    <p>You can buy spellbooks and tomes here. No refunds!</p>

    <h3>You currently have @Model.MyMoney <span title="Arpeyjis" class="icon icon-money"></span> Arpeyjis to spend.</h3>

    <div id="fullDetails">

    </div>
    <div class="row boxContainer">

        @{
            foreach (ItemViewModel i in Model.Items.OrderBy(i => i.dbItem.dbName).ThenByDescending(i => i.dbItem.Level))
            {
                @Html.Partial(MVC.PvP.Views.partial_ShopkeeperItem, i)
            }
        }
    </div>
</div>

<script>

    function detail_success() {
        //$('#itemDetailModal').modal('show');
    }

    function detail_failure() {
        $("#fullDetails").html("Failed to load details");
    }

    function detail_wait() {
        $("#fullDetails").html("Loading details...");
    }

</script>

<style>
    .price {
        margin-bottom: 15px;
        color: darkblue;
        font-weight: 700;
    }


    #fullDetails {
        height: 200px;
        resize: vertical;
        overflow-y: scroll;
    }
</style>