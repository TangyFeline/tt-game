@model IEnumerable<TT.Domain.Models.ContributorCustomForm>
    @using TT.Domain.Models

<div>
    <p class="infoMessage result">@Html.Raw(ViewBag.Result)</p>
    <p class="infoMessage error">@ViewBag.ErrorMessage</p>
    <p class="infoMessage suberror">@ViewBag.SubErrorMessage</p>
</div>

<h2>List Custom Forms</h2>

<td>@Html.ActionLink("Back", MVC.PvPAdmin.Index())</td>

<table id="customForms">
    <thead>
        <tr>
            <td>Id</td>
            <td>OwnerMembershipId</td>
            <td>Form</td>
            <td>Edit</td>
            <td>Delete?</td>
        </tr>
    </thead>

    <tbody>

        @{
            foreach (ContributorCustomForm c in Model.ToList())
            {
                <tr>
                    <td>@c.Id</td>
                    <td>@Html.ActionLink(c.OwnerMembershipId, MVC.PvP.LookAtPlayer_FromMembershipId(c.OwnerMembershipId), new { target = "_blank" })</td>
                    <td><b>@c.CustomForm.FriendlyName</b> (@c.CustomForm.dbName)</td>
                    <td>@Html.ActionLink("Edit", MVC.PvPAdmin.EditCustomForm(c.Id))</td>
                    <td>@Html.ActionLink("[X]", MVC.PvPAdmin.DeleteCustomForm(c.Id), new { onclick = "return confirm('Are you sure you want to delete this?)", @class = "" })</td>
                </tr>

            }
        }

    </tbody>

</table>

<td>@Html.ActionLink("New", MVC.PvPAdmin.EditCustomForm(-1))</td>

<style>
    table, td {
        padding: 5px;
        border: 1px solid black;
    }
</style>

<script>
    $(document).ready(function () {
        $('#customForms').dataTable();
    });
</script>