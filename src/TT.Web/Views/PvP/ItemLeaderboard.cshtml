@model IEnumerable<TT.Domain.Items.DTOs.ItemFormerPlayerDetail>
@using TT.Domain.Statics
@using TT.Web.CustomHtmlHelpers

<nav class="navbar navbar-default outsideContainer navbarTT2">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
            <ul class="nav navbar-nav">
                <li>@Html.ActionLink("Back to game", MVC.PvP.Play())</li>
                <li>@Html.ActionLink("Round Achievement Leaders", MVC.Settings.PlayerStatsLeaders())</li>
                <li>@Html.ActionLink("View Dungeon Leaderboard", MVC.PvP.PvPLeaderboard())</li>
                <li>@Html.ActionLink("View XP Leaderboard", MVC.PvP.Leaderboard())</li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<div class="specialBox">
    <b>Item Leaderboard -- @PvPStatics.AlphaRound</b><br />
    These are the most powerful once-human items and pets in the town.  Some may be able to revert their old human forms but many have embraced their new existence as personal pets and belongings.  Treat them kindly should you come to posses them!
</div>

<div class="containerInner">
    <table>

        <thead>
            <tr>
                <th style="width:15px">#</th>
                <th class="leaderBoardName">Human Name</th>
                <th class="leaderBoardForm mobile">Image</th>
                <th class="leaderBoardForm mobile">Item Type</th>
                <th>Lvl</th>
                <th>Exp</th>
            </tr>
        </thead>
        <tbody>

            @{
                int rank = 1;
            }

            @foreach (var i in Model)
            {
                <tr>
                    <td>
                        @rank
                    </td>
                    <td>
                        @CharactersHere.PrintPermanencyIcon(i.IsPermanent)
                        @Html.ActionLink(i.FormerPlayer.FullName, MVC.PvP.LookAtPlayerItem(i.FormerPlayer.FullName))
                        @CharactersHere.PrintGenderIcon(i.FormerPlayer.Gender)
                        @CharactersHere.PrintItemTypeIcon(i.ItemSource.ItemType)
                    </td>
                    <td><img src="@CharactersHere.GetImageUrl(i.ItemSource.PortraitUrl, i.FormerPlayer.Mobility, true)" width="50x" height="50px;" /></td>
                    <td class="mobile">
                        @i.ItemSource.FriendlyName
                    </td>
                    <td>
                        @i.Level
                    </td>
                    <td>@($"{i.FormerPlayer?.ItemXP?.Amount ?? 0:n0}")</td>
                </tr>
                rank++;
            }
        </tbody>
    </table>
</div>
    <style>
        .leaderBoardName {
            width: auto;
        }

        .leaderBoardCovenant {
            width: 20%;
        }

        .leaderBoardForm {
            width: 30%;
        }

        table {
            padding: 3px;
            border: 1px solid black;
            width: 100%;
        }

        th {
            background-color: black;
            color: white;
            text-align: center;
            padding: 0px;
        }

        tr {
            padding: 3px;
            border: 1px solid black;
        }

            tr:nth-child(odd) {
                background-color: lightgray;
            }

        td {
            text-align: center;
            padding: 2px 0px 2px 0px;
        }

        .dark {
            background-color: #CCCCCC;
        }

        tr.dark:nth-child(odd) {
            background-color: #B8B8B8;
        }

        .mobile {
        }

        @@media screen and (max-width: 767px) {
            .mobile {
                display: none;
            }
        }
    </style>

    <script>
        var myName = "@ViewBag.MyName";
        if (myName !== "") {
            $("tr td:contains('" + myName + "')").first().parent('tr').css("background-color", "pink");
        }
    </script>
