@model TT.Domain.ViewModels.BuffBox
@using TT.Web.CustomHtmlHelpers


<table id="bufftable">
    <thead>
        <tr>
            <th style="min-width:50%;">Effect</th>
            <th style="width:100px;">Total</th>
            <th class="mobile">From Form</th>
            <th class="mobile">From Items</th>
            <th class="mobile">From Effects</th>
        </tr>
    </thead>
    <tbody>

        @{


            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Discipline") @HtmlHelpers.PrintStatIcons("Discipline")</td>
                <td>
                    @Model.Discipline()
                </td>
                <td class="mobile">@Model.FromForm_Discipline</td>
                <td class="mobile">@Model.FromItems_Discipline</td>
                <td class="mobile">@Model.FromEffects_Discipline</td>
            </tr>




            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Perception") @HtmlHelpers.PrintStatIcons("Perception")</td>
                <td>
                    @Model.Perception()
                </td>
                <td class="mobile">@Model.FromForm_Perception</td>
                <td class="mobile">@Model.FromItems_Perception</td>
                <td class="mobile">@Model.FromEffects_Perception</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Charisma") @HtmlHelpers.PrintStatIcons("Charisma")</td>
                <td>
                    @Model.Charisma()
                </td>
                <td class="mobile">@Model.FromForm_Charisma</td>
                <td class="mobile">@Model.FromItems_Charisma</td>
                <td class="mobile">@Model.FromEffects_Charisma</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Fortitude") @HtmlHelpers.PrintStatIcons("Fortitude")</td>
                <td>
                    @Model.Fortitude()
                </td>
                <td class="mobile">@Model.FromForm_Fortitude</td>
                <td class="mobile">@Model.FromItems_Fortitude</td>
                <td class="mobile">@Model.FromEffects_Fortitude</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Agility") @HtmlHelpers.PrintStatIcons("Agility")</td>
                <td>
                    @Model.Agility()
                </td>
                <td class="mobile">@Model.FromForm_Agility</td>
                <td class="mobile">@Model.FromItems_Agility</td>
                <td class="mobile">@Model.FromEffects_Agility</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Allure") @HtmlHelpers.PrintStatIcons("Allure")</td>
                <td>
                    @Model.Allure()
                </td>
                <td class="mobile">@Model.FromForm_Allure</td>
                <td class="mobile">@Model.FromItems_Allure</td>
                <td class="mobile">@Model.FromEffects_Allure</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Magicka") @HtmlHelpers.PrintStatIcons("Magicka")</td>
                <td>
                    @Model.Magicka()
                </td>
                <td class="mobile">@Model.FromForm_Magicka</td>
                <td class="mobile">@Model.FromItems_Magicka</td>
                <td class="mobile">@Model.FromEffects_Magicka</td>
            </tr>




            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Succour") @HtmlHelpers.PrintStatIcons("Succour")</td>
                <td>
                    @Model.Succour()
                </td>
                <td class="mobile">@Model.FromForm_Succour</td>
                <td class="mobile">@Model.FromItems_Succour</td>
                <td class="mobile">@Model.FromEffects_Succour</td>
            </tr>



            <tr>
                <td>@HtmlHelpers.PrintStatDescriptionPopup("Luck") @HtmlHelpers.PrintStatIcons("Luck")</td>
                <td>
                    @Model.Luck()
                </td>
                <td class="mobile">@Model.FromForm_Luck</td>
                <td class="mobile">@Model.FromItems_Luck</td>
                <td class="mobile">@Model.FromEffects_Luck</td>
            </tr>

    <tr class="rowDivider">
        <td><b>Decomposite Stats:</b></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>

    if (Model.HealthBonusPercent() != 0.0M)
    {
                <tr>
                    <td>Extra willpower % maximum:</td>
                    <td>
                        @Model.HealthBonusPercent().ToString("0")%
                    </td>
                    <td class="mobile">@Model.FromForm_HealthBonusPercent.ToString("0")%</td>
                    <td class="mobile">@Model.FromItems_HealthBonusPercent.ToString("0")%</td>
                    <td class="mobile">@Model.FromEffects_HealthBonusPercent.ToString("0")%</td>
                </tr>
            }
        }

        @{
            if (Model.ManaBonusPercent() != 0.0M)
            {
                <tr>
                    <td>Extra mana % maximum:</td>
                    <td>
                        @Model.ManaBonusPercent().ToString("0")%
                    </td>
                    <td class="mobile">@Model.FromForm_ManaBonusPercent.ToString("0")%</td>
                    <td class="mobile">@Model.FromItems_ManaBonusPercent.ToString("0")%</td>
                    <td class="mobile">@Model.FromEffects_ManaBonusPercent.ToString("0")%</td>
                </tr>
            }
        }

        @{
            if (Model.HealthRecoveryPerUpdate() != 0.0M)
            {
                <tr>
                    <td>Willpower recovery per update:</td>
                    <td>
                        @Model.HealthRecoveryPerUpdate().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_HealthRecoveryPerUpdate.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_HealthRecoveryPerUpdate.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_HealthRecoveryPerUpdate.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.ManaRecoveryPerUpdate() != 0.0M)
            {
                <tr>
                    <td>Mana recovery per update:</td>
                    <td>
                        @Model.ManaRecoveryPerUpdate().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_ManaRecoveryPerUpdate.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_ManaRecoveryPerUpdate.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_ManaRecoveryPerUpdate.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.SneakPercent() != 0.0M)
            {
                <tr>
                    <td>Sneak chance percent:</td>
                    <td>
                        @Model.SneakPercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_SneakPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_SneakPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_SneakPercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.AntiSneakPercent() != 0.0M)
            {
                <tr>
                    <td>Sneak level detection:</td>
                    <td>
                        @Model.AntiSneakPercent().ToString("0.0")%
                    </td>
                    <td class="mobile" colspan="3">&nbsp;</td>
                </tr>
            }
        }

        @{
            if (Model.CleanseExtraHealth() != 0.0M)
            {
                <tr>
                    <td>Extra willpower recovered from cleansing:</td>
                    <td>
                        @Model.CleanseExtraHealth().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_CleanseExtraHealth.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_CleanseExtraHealth.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_CleanseExtraHealth.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.MeditationExtraMana() != 0.0M)
            {
                <tr>
                    <td>Extra mana recovered from meditating</td>
                    <td>
                        @Model.MeditationExtraMana().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_MeditationExtraMana.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_MeditationExtraMana.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_MeditationExtraMana.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.MoveActionPointDiscount() != 0.0M)
            {
                <tr>
                    <td>Action point discount when moving:</td>
                    <td>
                        @Model.MoveActionPointDiscount().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_MoveActionPointDiscount.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_MoveActionPointDiscount.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_MoveActionPointDiscount.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.ExtraSkillCriticalPercent() != 0.0M)
            {

                <tr>
                    <td>Extra chance of spell critical hits:</td>
                    <td>
                        @Model.ExtraSkillCriticalPercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_ExtraSkillCriticalPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_ExtraSkillCriticalPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_ExtraSkillCriticalPercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.EvasionPercent() != 0.0M)
            {

                <tr>
                    <td>Percent chance to evade an attack:</td>
                    <td>
                        @Model.EvasionPercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_EvasionPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_EvasionPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_EvasionPercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.EvasionNegationPercent() != 0.0M)
            {
                <tr>
                    <td>Percent negation of opponent's ability to evade a spell:</td>
                    <td>
                        @Model.EvasionNegationPercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_EvasionNegationPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_EvasionNegationPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_EvasionNegationPercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.SpellExtraHealthDamagePercent() != 0.0M)
            {
                <tr>
                    <td>Extra spell willpower damage percent:</td>
                    <td>
                        @Model.SpellExtraHealthDamagePercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_SpellExtraHealthDamagePercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_SpellExtraHealthDamagePercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_SpellExtraHealthDamagePercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.SpellExtraTFEnergyPercent() != 0.0M)
            {
                <tr>
                    <td>Extra transformation damage percent dealt from spells: </td>
                    <td>
                        @Model.SpellExtraTFEnergyPercent().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_SpellExtraTFEnergyPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_SpellExtraTFEnergyPercent.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_SpellExtraTFEnergyPercent.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.CleanseExtraTFEnergyRemovalPercent() != 0.0M)
            {
                <tr>
                    <td>Extra transformation energy removed when cleansing:</td>
                    <td>
                        @Model.CleanseExtraTFEnergyRemovalPercent().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_CleanseExtraTFEnergyRemovalPercent.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_CleanseExtraTFEnergyRemovalPercent.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_CleanseExtraTFEnergyRemovalPercent.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.SpellMisfireChanceReduction() != 0.0M)
            {
                <tr>
                    <td>Misfire percent chance reduction: </td>
                    <td>
                        @Model.SpellMisfireChanceReduction().ToString("0.0")%
                    </td>
                    <td class="mobile">@Model.FromForm_SpellMisfireChanceReduction.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromItems_SpellMisfireChanceReduction.ToString("0.0")%</td>
                    <td class="mobile">@Model.FromEffects_SpellMisfireChanceReduction.ToString("0.0")%</td>
                </tr>
            }
        }

        @{
            if (Model.SpellHealthDamageResistance() != 0.0M)
            {
                <tr>
                    <td>Willpower damage reduction when hit by spells:</td>
                    <td>
                        @Model.SpellHealthDamageResistance().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_SpellHealthDamageResistance.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_SpellHealthDamageResistance.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_SpellHealthDamageResistance.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.SpellTFEnergyDamageResistance() != 0.0M)
            {
                <tr>
                    <td>Transformation energy reduction when hit by spells:</td>
                    <td>
                        @Model.SpellTFEnergyDamageResistance().ToString("0.00")
                    </td>
                    <td class="mobile">@Model.FromForm_SpellTFEnergyDamageResistance.ToString("0.00")</td>
                    <td class="mobile">@Model.FromItems_SpellTFEnergyDamageResistance.ToString("0.00")</td>
                    <td class="mobile">@Model.FromEffects_SpellTFEnergyDamageResistance.ToString("0.00")</td>
                </tr>
            }
        }

        @{
            if (Model.ExtraInventorySpace() != 0.0M)
            {
                <tr>
                    <td>Extra inventory space:</td>
                    <td>
                        @Model.ExtraInventorySpace().ToString("0.#")
                    </td>
                    <td class="mobile">@Model.FromForm_ExtraInventorySpace.ToString("0.#")</td>
                    <td class="mobile">@Model.FromItems_ExtraInventorySpace.ToString("0.#")</td>
                    <td class="mobile">@Model.FromEffects_ExtraInventorySpace.ToString("0.#")</td>
                </tr>
            }
        }








    </tbody>
</table>

<style>
    table {
        padding: 3px;
        border: 1px solid black;
        width: 100%;
    }

    th {
        background-color: black;
        color: white;
        text-align: center;
        padding: 2px 0px 2px 0px;
        margin: 0;
    }

    tr {
        padding: 3px;
        border: 1px solid black;
    }

        tr:nth-child(odd) {
            background-color: lightgray;
        }

    td {
        text-align: center;
        margin: 0;
        padding: 2px 0px 2px 0px;
    }

    #bufftable {
        margin-bottom: 20px;
        float: left;
        position: relative;
    }

    .rowDivider {
         background-color: black;
        color: white;
    }

    @@media screen and (max-width: 767px) {
        .mobile {
            display: none;
        }
    }
</style>
