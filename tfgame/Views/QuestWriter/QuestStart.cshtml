@model tfgame.dbModels.Models.QuestStart
@using tfgame.Statics



@using (Ajax.BeginForm("QuestStartSend", "QuestWriter", new AjaxOptions { UpdateTargetId = "swapMe", InsertionMode = InsertionMode.Replace, HttpMethod = "POST", OnSuccess = "success", OnFailure = "fail", OnBegin = "waiting" }, new { @class = "" }))
{

    <label>Is live:</label>
    <p><b>@Model.IsLive</b></p>

    <br /><br />

    <label>Quest Friendly Name:</label>
    @Html.TextBoxFor(m => m.Name)

    <br /><br />

    <label>Quest Database Name:</label>
    @Html.TextBoxFor(m => m.dbName)

    <br /><br />

    <label>Location:</label>
    @Html.TextBoxFor(m => m.Location)

    <br /><br />

    <label>Minimum Start Turn:</label>
    @Html.TextBoxFor(m => m.MinStartTurn)

    <br /><br />

    <label>Maximum Start Turn:</label>
    @Html.TextBoxFor(m => m.MaxStartTurn)

    <br /><br />

        <label>Minimum Start Level:</label>
        @Html.TextBoxFor(m => m.MinStartLevel)

        <br /><br />

        <label>Maximum Start Level:</label>
        @Html.TextBoxFor(m => m.MaxStartTurn)

        <br /><br />

        <label>Required Gender to start:</label>
        @Html.DropDownListFor(m => m.PrerequisiteQuest, new SelectList(
                  new List<Object>{
                      new { value = (int)QuestStatics.Gender.Any  , text = "Any"  },
                       new { value = (int)QuestStatics.Gender.Male  , text = "Male"  },
                        new { value = (int)QuestStatics.Gender.Female  , text = "Female"  },
                    },
                  "value",
                  "text",
                   2))

        <br /><br />

        <label>Prerequisite Quest Id:</label>
        @Html.TextBoxFor(m => m.PrerequisiteQuest)

        <br /><br />



    if (Model.Id > 0 && ViewBag.firstState != null)
    {
        @*<p>@Html.ActionLink("GO TO STARTING STATE", "QuestState", "QuestWriter", new { Id = ViewBag.firstState.Id, QuestId = Model.Id, ParentStateId = -1 }, null)</p>*@

        <p>@Ajax.ActionLink("STARTING QUEST STATE -- " + ((tfgame.dbModels.Models.QuestState)ViewBag.firstState).QuestStateName, "QuestState", "QuestWriter", new { Id = ViewBag.firstState.Id, QuestId = Model.Id, ParentStateId = -1 }, new AjaxOptions { UpdateTargetId = "swapMe", InsertionMode = InsertionMode.Replace, HttpMethod = "GET", OnSuccess = "success", OnFailure = "fail", OnBegin = "waiting" }, new { @class = "" })</p>

    }
    else
    {
        <p class="bad">No starting state created yet</p>
    }


    <br /><br />


        @Html.HiddenFor(m => m.Id)

        <br />
        <input type="submit" class="btn btn-chat" value="Send" />

}

<br /><br />





<style>
    input, textarea {
        width: 100%;
    }
</style>