@model tfgame.ViewModels.PlayerFormViewModel
@using tfgame.CustomHtmlHelpers
@using tfgame.Procedures

@{
    int HealthWidth = Convert.ToInt32(Model.Player.Health / Model.Player.MaxHealth * 100);
    if (HealthWidth > 100) { HealthWidth = 100; }
    int ManaWidth = Convert.ToInt32(Model.Player.Mana / Model.Player.MaxMana * 100);
    if (ManaWidth > 100) { ManaWidth = 100; }
    string gendercolor;
    if (Model.Player.Gender == "male")
    {
        gendercolor = "blue";
    }
    else if (Model.Player.Gender == "female")
    {
        gendercolor = "purple";
    }
    else
    {
        gendercolor = "black";
    }

}

<div class="charwrapper @CharactersHere.StyleIfBot(Model.Player.ToDbPlayer())" playNum="@Model.Player.Id">

    <div class="portrait" style="background-image: url(/Images/PvP/portraits/@Model.Form.PortraitUrl);">


        <span class="icon-@Model.Player.Gender" style="float:right;"></span>


        <span class="icon-level"><b>@Model.Player.Level</b></span>

        @{
            if (PlayerProcedures.PlayerIsOffline(Model.Player) == true)
            {
                <span class="icon-sleep" title="This player is offline and cannot be attacked."></span>
            }
        }



    </div>

    <div class="charInfoWrapper">
        <span class="name">

            <span style="color: @gendercolor">
                @Html.ActionLink(Model.Player.FirstName + " " + Model.Player.LastName, "LookAtPlayer", "PvP", new { id = Model.Player.Id }, null)
                @CharactersHere.GetCovenantInfo(Model.Player.ToDbPlayer())
            </span>


        </span>
        <span class="playerDescription">@Model.Form.FriendlyName</span>
        @CharactersHere.PrintRPIcon(Model.Player.ToDbPlayer())
        @CharactersHere.PrintPvPIcon(Model.Player.ToDbPlayer())
      



        <div class="healthWrapper" title="@Model.Player.Health / @Model.Player.MaxHealth willpower">
            <div class="healthBar" style="width: @HealthWidth%"></div>
        </div>
        <div class="manaWrapper" title="@Model.Player.Mana / @Model.Player.MaxMana mana">
            <div class="manaBar" style="width: @ManaWidth%"></div>
        </div>

    </div>
</div>

